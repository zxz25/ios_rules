name: ğŸ”„ Sync ios_rule_script Repo to Gitea

on:
  schedule:
    # æ¯6å°æ—¶æ£€æŸ¥ä¸€æ¬¡ï¼ˆå¯è‡ªå®šä¹‰ï¼‰
    - cron: '0 */6 * * *'
  workflow_dispatch:  # å…è®¸æ‰‹åŠ¨è§¦å‘

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      # - name: ğŸ›’ Checkout empty
      #   uses: actions/checkout@v4

      - name: ğŸ“¥ Clone Third-Party Repo
        run: |
          git clone https://github.com/blackmatrix7/ios_rule_script.git .

      - name: ğŸ“¤ Push to Gitea
        run: |
          git remote add gitea https://gitea.zxz25.com/zxz25/ios_rule_script.git
          git push --mirror gitea
        env:
          GIT_ASKPASS: echo
          GIT_USERNAME: zxz25
          GIT_PASSWORD: b3dcbb903b26c1fca8dc186a752b682413ac1aaa
