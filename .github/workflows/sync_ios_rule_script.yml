name: ğŸ”„ Sync ios_rule_script Repo to Gitea

on:
  schedule:
    # æ¯6å°æ—¶æ£€æŸ¥ä¸€æ¬¡ï¼ˆå¯è‡ªå®šä¹‰ï¼‰
    - cron: '0 */6 * * *'
  workflow_dispatch:  # å…è®¸æ‰‹åŠ¨è§¦å‘

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      # - name: ğŸ›’ Checkout empty
      #   uses: actions/checkout@v4

      - name: ğŸ“¥ Clone Third-Party Repo
        run: |
          git clone --single-branch --branch main --depth 1 https://github.com/blackmatrix7/ios_rule_script.git .

      - name: ğŸ“¤ Push to Gitea
        run: |
          git remote add gitea https://${{ secrets.GITEA_USERNAME }}:${{ secrets.GITEA_TOKEN }}@gitea.zxz25.com/zxz25/ios_rule_script.git
          git push --mirror gitea
